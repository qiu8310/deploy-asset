<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>deploy-asset</h1><p><a href="https://npmjs.org/package/deploy-asset"><img src="https://badge.fury.io/js/deploy-asset.svg" alt="NPM version"></a>
<a href="https://github.com/qiu8310/deploy-asset"><img src="http://img.shields.io/github/tag/qiu8310/deploy-asset.svg" alt="GitHub version"></a>
<a href="https://travis-ci.org/qiu8310/deploy-asset"><img src="https://travis-ci.org/qiu8310/deploy-asset.svg?branch=master" alt="Build Status"></a>
<a href="https://david-dm.org/qiu8310/deploy-asset"><img src="https://david-dm.org/qiu8310/deploy-asset.svg?theme=shields.io" alt="Dependency Status"></a>
<a href="http://inch-ci.org/github/qiu8310/deploy-asset"><img src="http://inch-ci.org/github/qiu8310/deploy-asset.svg?branch=master" alt="Inline docs"></a>
<a href="https://codeclimate.com/github/qiu8310/deploy-asset"><img src="https://codeclimate.com/github/qiu8310/deploy-asset/badges/gpa.svg" alt="Code Climate"></a>
<a href="https://coveralls.io/r/qiu8310/deploy-asset"><img src="https://coveralls.io/repos/qiu8310/deploy-asset/badge.png" alt="Coverage Status"></a></p>
<p>分析本地的 Web 文件，将它所引用到的所有静态资源全部上传到 七牛/FTP (还可以自定义其它 <a href="./examples/custom-uploader.js">Uploader</a> )上去，并且保证引用关系不错乱</p>
<p><a href="https://github.com/qiu8310/deploy-asset">Github Repo</a></p>
<p><a href="http://qiu8310.github.io/deploy-asset">JSDOC Generated Document</a></p>
<h2>安装</h2><pre class="prettyprint source lang-bash"><code>npm install --global deploy-asset</code></pre><h2>使用</h2><h3>命令行</h3><pre class="prettyprint source lang-bash"><code>
da &lt;folder> [options]

da --help # show all options</code></pre><h3>Node 脚本</h3><pre class="prettyprint source lang-javascript"><code>var da = require('deploy-asset')

da(folder, globPatterns, options, function(err, fileMap) {
  // ...
})</code></pre><h3>Grunt</h3><p><a href="https://github.com/qiu8310/grunt-deploy-asset">grunt-deploy-asset</a></p>
<h2>Options</h2><p><a href="https://qiu8310.github.io/deploy-asset/global.html#da">Click Here To See All Options</a></p>
<h2>注意事项</h2><ul>
<li><p>如果在 JS 或 JSON 中要引用某个文件，只要将它放在字符串中，保证带有至少一个路径（<code>/</code> 或 <code>\</code>），并且有后缀名，如 <code>.js</code></p>
</li>
<li><p><strong>使用命令行时如果用了 glob，一定要加引号</strong> </p>
<p>比如，如果你想排除所有图片文件用此命令：<code>da --excludes *.png</code>，但 <em>.png 会被 shell 解析成可能的 a.png b.png c.png，所以你的命令变成了：
<code>da --excludes a.png b.png c.png</code> 并不是你想要的结果。因而，需要加上引号写成 `da --excludes '</em>.png'`</p>
</li>
<li><p>更新提醒</p>
</li>
</ul>
<p>v0.3.3 及其之前的版本，配置信息是放在 <code>uploaderOptions</code> 选项中的，为了实现支持多个 uploader 随意切换，现在将所有的 uploaders 配置放在 <code>uploaders</code> 中。（对于老版本的配置还是兼容的，但如果使用了新版本的配置就不会使用老版本的）</p>
<p>如：以前的配置可以是：</p>
<pre class="prettyprint source"><code>{
  uploader: 'qiniu',
  uploaderOptions: {
    ak: '...',
    sk: '...',
    bucket: '...',
    domain: '...'
  }
}</code></pre><p>现在的配置是：</p>
<pre class="prettyprint source"><code>{
  uploader: 'qiniu_1',    // 默认的 uploader
  uploaders: {          // 这里放的是所有支持的 uploader 的默认配置
    qiniu_1: {
      ak: '...',
      sk: '...',
      bucket: '...',
      domain: '...',
      alias: 'qiniu'  // alias 是可选的配置，如果不存在 qiniu_1 的 uploader，就一定要配置这个 alias，指到一个真实存在的 uploader
    },
    ftp: {
      host: '....'
      user: '...',
      pass: '...',
      port: 21,
      baseUrl: '...',
      destDir: '...'
    }
  }
}</code></pre><h2>调试</h2><p>使用的是 <a href="https://github.com/isaacs/npmlog">npmlog</a>，支持 6 种不同的日志级别，
分别是： <code>silly</code>， <code>verbose</code>， <code>info</code>， <code>warn</code>， <code>error</code>， <code>silent</code>，越后面的
输出的日志信息就越少。</p>
<p>可以通过以下两种方式来设置日志级别：</p>
<ul>
<li><p>通过参数： <code>--log-level</code> 或 <code>-l</code>，如 <code>--log-level=verbose</code> 或 <code>-l verbose</code>，
另外支持三种简写形式，<code>--verbose</code>，<code>--info</code>，<code>--silent</code></p>
</li>
<li><p>通过环境变量：类似于 <a href="https://github.com/visionmedia/debug">debug</a> 的写法，如
<code>DEBUG=da:verbose</code> 或 <code>DEBUG=da:info</code></p>
</li>
</ul>
<h2>License</h2><p>Copyright (c) 2015 Zhonglei Qiu. Licensed under the MIT license.</p>
<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/qiu8310/deploy-asset/trend.png" alt="Bitdeli Badge"></a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="File.html">File</a></li><li><a href="FtpUploader.html">FtpUploader</a></li><li><a href="QiniuUploader.html">QiniuUploader</a></li><li><a href="Uploader.html">Uploader</a></li></ul><h3>Global</h3><ul><li><a href="global.html#da">da</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Tue Sep 08 2015 09:40:40 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>